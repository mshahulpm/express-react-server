import{r as u,c as le,j as x,R as oe,a as j}from"./jsx-runtime.8610fe3b.js";function L(){return L=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},L.apply(this,arguments)}var S;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(S||(S={}));var A=function(e){return e},q="beforeunload",se="popstate";function ce(e){e===void 0&&(e={});var n=e,t=n.window,a=t===void 0?document.defaultView:t,r=a.history;function i(){var s=a.location,h=s.pathname,g=s.search,C=s.hash,P=r.state||{};return[P.idx,A({pathname:h,search:g,hash:C,state:P.usr||null,key:P.key||"default"})]}var l=null;function o(){if(l)v.call(l),l=null;else{var s=S.Pop,h=i(),g=h[0],C=h[1];if(v.length){if(g!=null){var P=f-g;P&&(l={action:s,location:C,retry:function(){B(P*-1)}},B(P))}}else N(s)}}a.addEventListener(se,o);var c=S.Pop,p=i(),f=p[0],m=p[1],d=X(),v=X();f==null&&(f=0,r.replaceState(L({},r.state,{idx:f}),""));function E(s){return typeof s=="string"?s:V(s)}function k(s,h){return h===void 0&&(h=null),A(L({pathname:m.pathname,hash:"",search:""},typeof s=="string"?w(s):s,{state:h,key:ue()}))}function U(s,h){return[{usr:s.state,key:s.key,idx:h},E(s)]}function F(s,h,g){return!v.length||(v.call({action:s,location:h,retry:g}),!1)}function N(s){c=s;var h=i();f=h[0],m=h[1],d.call({action:c,location:m})}function z(s,h){var g=S.Push,C=k(s,h);function P(){z(s,h)}if(F(g,C,P)){var b=U(C,f+1),T=b[0],$=b[1];try{r.pushState(T,"",$)}catch{a.location.assign($)}N(g)}}function G(s,h){var g=S.Replace,C=k(s,h);function P(){G(s,h)}if(F(g,C,P)){var b=U(C,f),T=b[0],$=b[1];r.replaceState(T,"",$),N(g)}}function B(s){r.go(s)}var ie={get action(){return c},get location(){return m},createHref:E,push:z,replace:G,go:B,back:function(){B(-1)},forward:function(){B(1)},listen:function(h){return d.push(h)},block:function(h){var g=v.push(h);return v.length===1&&a.addEventListener(q,Q),function(){g(),v.length||a.removeEventListener(q,Q)}}};return ie}function Q(e){e.preventDefault(),e.returnValue=""}function X(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(a){return a!==t})}},call:function(t){e.forEach(function(a){return a&&a(t)})}}}function ue(){return Math.random().toString(36).substr(2,8)}function V(e){var n=e.pathname,t=n===void 0?"/":n,a=e.search,r=a===void 0?"":a,i=e.hash,l=i===void 0?"":i;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function w(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const K=u.exports.createContext(null),D=u.exports.createContext(null),H=u.exports.createContext({outlet:null,matches:[]});function y(e,n){if(!e)throw new Error(n)}function he(e,n,t){t===void 0&&(t="/");let a=typeof n=="string"?w(n):n,r=te(a.pathname||"/",t);if(r==null)return null;let i=Z(e);fe(i);let l=null;for(let o=0;l==null&&o<i.length;++o)l=Ce(i[o],r);return l}function Z(e,n,t,a){return n===void 0&&(n=[]),t===void 0&&(t=[]),a===void 0&&(a=""),e.forEach((r,i)=>{let l={relativePath:r.path||"",caseSensitive:r.caseSensitive===!0,childrenIndex:i,route:r};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(a)||y(!1),l.relativePath=l.relativePath.slice(a.length));let o=R([a,l.relativePath]),c=t.concat(l);r.children&&r.children.length>0&&(r.index===!0&&y(!1),Z(r.children,n,c,o)),!(r.path==null&&!r.index)&&n.push({path:o,score:Pe(o,r.index),routesMeta:c})}),n}function fe(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:ye(n.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const pe=/^:\w+$/,de=3,me=2,ve=1,ge=10,xe=-2,Y=e=>e==="*";function Pe(e,n){let t=e.split("/"),a=t.length;return t.some(Y)&&(a+=xe),n&&(a+=me),t.filter(r=>!Y(r)).reduce((r,i)=>r+(pe.test(i)?de:i===""?ve:ge),a)}function ye(e,n){return e.length===n.length&&e.slice(0,-1).every((a,r)=>a===n[r])?e[e.length-1]-n[n.length-1]:0}function Ce(e,n){let{routesMeta:t}=e,a={},r="/",i=[];for(let l=0;l<t.length;++l){let o=t[l],c=l===t.length-1,p=r==="/"?n:n.slice(r.length)||"/",f=Re({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},p);if(!f)return null;Object.assign(a,f.params);let m=o.route;i.push({params:a,pathname:R([r,f.pathname]),pathnameBase:ne(R([r,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(r=R([r,f.pathnameBase]))}return i}function Re(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=Se(e.path,e.caseSensitive,e.end),r=n.match(t);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((p,f,m)=>{if(f==="*"){let d=o[m]||"";l=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return p[f]=we(o[m]||""),p},{}),pathname:i,pathnameBase:l,pattern:e}}function Se(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,o)=>(a.push(o),"([^\\/]+)"));return e.endsWith("*")?(a.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=t?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(r,n?void 0:"i"),a]}function we(e,n){try{return decodeURIComponent(e)}catch{return e}}function be(e,n){n===void 0&&(n="/");let{pathname:t,search:a="",hash:r=""}=typeof e=="string"?w(e):e;return{pathname:t?t.startsWith("/")?t:Ee(t,n):n,search:Be(a),hash:Oe(r)}}function Ee(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ee(e,n,t){let a=typeof e=="string"?w(e):e,r=e===""||a.pathname===""?"/":a.pathname,i;if(r==null)i=t;else{let o=n.length-1;if(r.startsWith("..")){let c=r.split("/");for(;c[0]==="..";)c.shift(),o-=1;a.pathname=c.join("/")}i=o>=0?n[o]:"/"}let l=be(a,i);return r&&r!=="/"&&r.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function ke(e){return e===""||e.pathname===""?"/":typeof e=="string"?w(e).pathname:e.pathname}function te(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=e.charAt(n.length);return t&&t!=="/"?null:e.slice(n.length)||"/"}const R=e=>e.join("/").replace(/\/\/+/g,"/"),ne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Be=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $e(e){O()||y(!1);let{basename:n,navigator:t}=u.exports.useContext(K),{hash:a,pathname:r,search:i}=ae(e),l=r;if(n!=="/"){let o=ke(e),c=o!=null&&o.endsWith("/");l=r==="/"?n+(c?"/":""):R([n,r])}return t.createHref({pathname:l,search:i,hash:a})}function O(){return u.exports.useContext(D)!=null}function M(){return O()||y(!1),u.exports.useContext(D).location}function je(){O()||y(!1);let{basename:e,navigator:n}=u.exports.useContext(K),{matches:t}=u.exports.useContext(H),{pathname:a}=M(),r=JSON.stringify(t.map(o=>o.pathnameBase)),i=u.exports.useRef(!1);return u.exports.useEffect(()=>{i.current=!0}),u.exports.useCallback(function(o,c){if(c===void 0&&(c={}),!i.current)return;if(typeof o=="number"){n.go(o);return}let p=ee(o,JSON.parse(r),a);e!=="/"&&(p.pathname=R([e,p.pathname])),(c.replace?n.replace:n.push)(p,c.state)},[e,n,r,a])}function ae(e){let{matches:n}=u.exports.useContext(H),{pathname:t}=M(),a=JSON.stringify(n.map(r=>r.pathnameBase));return u.exports.useMemo(()=>ee(e,JSON.parse(a),t),[e,a,t])}function Le(e,n){O()||y(!1);let{matches:t}=u.exports.useContext(H),a=t[t.length-1],r=a?a.params:{};a&&a.pathname;let i=a?a.pathnameBase:"/";a&&a.route;let l=M(),o;if(n){var c;let d=typeof n=="string"?w(n):n;i==="/"||((c=d.pathname)==null?void 0:c.startsWith(i))||y(!1),o=d}else o=l;let p=o.pathname||"/",f=i==="/"?p:p.slice(i.length)||"/",m=he(e,{pathname:f});return We(m&&m.map(d=>Object.assign({},d,{params:Object.assign({},r,d.params),pathname:R([i,d.pathname]),pathnameBase:d.pathnameBase==="/"?i:R([i,d.pathnameBase])})),t)}function We(e,n){return n===void 0&&(n=[]),e==null?null:e.reduceRight((t,a,r)=>u.exports.createElement(H.Provider,{children:a.route.element!==void 0?a.route.element:t,value:{outlet:t,matches:n.concat(e.slice(0,r+1))}}),null)}function _(e){y(!1)}function He(e){let{basename:n="/",children:t=null,location:a,navigationType:r=S.Pop,navigator:i,static:l=!1}=e;O()&&y(!1);let o=ne(n),c=u.exports.useMemo(()=>({basename:o,navigator:i,static:l}),[o,i,l]);typeof a=="string"&&(a=w(a));let{pathname:p="/",search:f="",hash:m="",state:d=null,key:v="default"}=a,E=u.exports.useMemo(()=>{let k=te(p,o);return k==null?null:{pathname:k,search:f,hash:m,state:d,key:v}},[o,p,f,m,d,v]);return E==null?null:u.exports.createElement(K.Provider,{value:c},u.exports.createElement(D.Provider,{children:t,value:{location:E,navigationType:r}}))}function Me(e){let{children:n,location:t}=e;return Le(I(n),t)}function I(e){let n=[];return u.exports.Children.forEach(e,t=>{if(!u.exports.isValidElement(t))return;if(t.type===u.exports.Fragment){n.push.apply(n,I(t.props.children));return}t.type!==_&&y(!1);let a={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(a.children=I(t.props.children)),n.push(a)}),n}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(){return J=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},J.apply(this,arguments)}function Ne(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}const Te=["onClick","reloadDocument","replace","state","target","to"];function Ve(e){let{basename:n,children:t,window:a}=e,r=u.exports.useRef();r.current==null&&(r.current=ce({window:a}));let i=r.current,[l,o]=u.exports.useState({action:i.action,location:i.location});return u.exports.useLayoutEffect(()=>i.listen(o),[i]),u.exports.createElement(He,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:i})}function _e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const re=u.exports.forwardRef(function(n,t){let{onClick:a,reloadDocument:r,replace:i=!1,state:l,target:o,to:c}=n,p=Ne(n,Te),f=$e(c),m=Ie(c,{replace:i,state:l,target:o});function d(v){a&&a(v),!v.defaultPrevented&&!r&&m(v)}return u.exports.createElement("a",J({},p,{href:f,onClick:d,ref:t,target:o}))});function Ie(e,n){let{target:t,replace:a,state:r}=n===void 0?{}:n,i=je(),l=M(),o=ae(e);return u.exports.useCallback(c=>{if(c.button===0&&(!t||t==="_self")&&!_e(c)){c.preventDefault();let p=!!a||V(l)===V(o);i(e,{replace:p,state:r})}},[l,i,o,a,r,t,e])}const W="/app1";function Je(){return j("div",{children:[x("h1",{children:"Hello from App1"}),x(Ve,{children:j(Me,{children:[x(_,{path:W+"/page2",element:x(De,{})}),x(_,{path:W,element:x(Ke,{})})]})})]})}function Ke(){return j("div",{children:[x("h1",{children:"App1 Page1"}),x(re,{to:W+"/page2",children:"Go to Page2"})]})}function De(){return j("div",{children:[x("h1",{children:"App1 Page2"}),x(re,{to:W,children:"Go to Page1"})]})}le.createRoot(document.getElementById("root")).render(x(oe.StrictMode,{children:x(Je,{})}));
